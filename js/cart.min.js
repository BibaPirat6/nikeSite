document.querySelector(".burger-menu").addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.add("open-modal"),disableScroll()});let keys={37:1,38:1,39:1,40:1};function preventDefault(e){e.preventDefault()}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}let supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}}))}catch(e){}let wheelOpt=!!supportsPassive&&{passive:!1},wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel";function disableScroll(){window.addEventListener("DOMMouseScroll",preventDefault,!1),window.addEventListener(wheelEvent,preventDefault,wheelOpt),window.addEventListener("touchmove",preventDefault,wheelOpt),window.addEventListener("keydown",preventDefaultForScrollKeys,!1)}function enableScroll(){window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.removeEventListener(wheelEvent,preventDefault,wheelOpt),window.removeEventListener("touchmove",preventDefault,wheelOpt),window.removeEventListener("keydown",preventDefaultForScrollKeys,!1)}document.getElementById("close-modal-burger").addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.remove("open-modal"),enableScroll()});const linkBurgerMenu=document.querySelectorAll(".burger-menu-link");function parsePrice(e){return Number(e.replace(/[^\d]/g,""))}linkBurgerMenu.forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.remove("open-modal"),enableScroll()})}),document.addEventListener("DOMContentLoaded",()=>{let e=JSON.parse(localStorage.getItem("cart"))||[],t=e.reduce((e,t)=>e+t.quantity,0),r=e.reduce((e,t)=>e+parsePrice(t.newPrice)*t.quantity,0);document.getElementById("cart-count-products").textContent=t,document.getElementById("cart-count-items").textContent=t,document.getElementById("cart-result-price-h4").textContent=r;const n=document.querySelector(".cart-element-list");n.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.classList.add("cart-item"),t.innerHTML=`\n      <div class="cart-item-desc">\n          <img src="${e.img}">\n          <div class="cart-item-text">\n            <h6>${e.title}</h6>\n            <div class="cart-item-price">\n              <h5>${e.newPrice}</h5>\n              <p>${e.quantity} шт</p>\n            </div>\n          </div>\n      </div>\n    `,n.appendChild(t)})});const pageBuy=()=>{document.querySelector(".cart-delivery").classList.add("page-active"),document.querySelector(".cart-all-products").classList.add("page-off"),document.querySelector(".cart-step-ellipse.step-off").classList.remove("step-off"),document.querySelectorAll(".cart-step-ellipse svg path").forEach(e=>{e.setAttribute("stroke","white")}),document.querySelector(".cart-step-line").classList.add("active-line")},prevPage=()=>{document.querySelector(".cart-delivery").classList.remove("page-active"),document.querySelector(".cart-all-products").classList.remove("page-off"),document.querySelector(".cart-step-delivery").classList.add("step-off"),document.querySelectorAll(".cart-step-ellipse svg path").forEach(e=>{e.setAttribute("stroke","gray"),document.querySelector(".cart-step-line").classList.remove("active-line")})};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("order-form").addEventListener("submit",function(e){e.preventDefault(),localStorage.clear(),alert("Вы успешно купили продукты. Они отправлены к вам домой."),window.location.href="/"})});