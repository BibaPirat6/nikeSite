window.addEventListener("load",()=>{const e=document.querySelector(".collection-box-slider-track"),t=document.querySelectorAll(".slide"),n=document.querySelector(".collection-box-arrows-left"),r=document.querySelector(".collection-box-arrows-right"),o=t[0].getBoundingClientRect().width+20,c=1;let l=0;function i(){const i=-o*l;e.style.transform=`translateX(${i}px)`,n.classList.toggle("disabled",0===l),r.classList.toggle("disabled",l>=t.length-c)}r.addEventListener("click",()=>{l<t.length-c&&(l++,i())}),n.addEventListener("click",()=>{l>0&&(l--,i())});let s=0,d=!1;e.addEventListener("touchstart",e=>{s=e.touches[0].clientX,d=!0}),e.addEventListener("touchmove",e=>{if(!d)return;const t=e.touches[0].clientX,n=s-t;Math.abs(n)>10&&e.preventDefault()},{passive:!1}),e.addEventListener("touchend",e=>{if(!d)return;d=!1;const n=e.changedTouches[0].clientX,r=s-n;r>50&&l<t.length-c?(l++,i()):r<-50&&l>0&&(l--,i())}),i()});const formHandle=()=>{alert("Вы подписались на нас!")},sizes=document.querySelectorAll(".header-size-variable");sizes.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("disabled")||(sizes.forEach(e=>e.classList.remove("filled")),e.classList.add("filled"))})});const colorsNike=document.querySelectorAll(".header-color-variable");colorsNike.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("checked")||(colorsNike.forEach(e=>e.classList.remove("checked")),e.classList.add("checked"))})});const imageList=["../images/header-banner1.png","../images/header-banner2.png","../images/header-banner3.png","../images/header-banner4.png"];let currentIndex=0;const mainImg=document.querySelector(".mainImg"),arrow=document.querySelector(".move-toggle-slider"),toggleImg=e=>{currentIndex=imageList.indexOf(e),mainImg.src=e};arrow.addEventListener("click",()=>{currentIndex=(currentIndex+1)%imageList.length,mainImg.src=imageList[currentIndex]}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".add-to-cart-circle"),t=document.getElementById("buy-nike-winterized");function n(e){let t=JSON.parse(localStorage.getItem("cart"))||[];const n=t.reduce((e,t)=>e+t.quantity,0);if(n>=99)return void alert("Нельзя добавить больше 99 товаров в корзину");const o=t.find(t=>t.title===e.title&&t.newPrice===e.newPrice);o?n+1<=99?(o.quantity+=1,console.log("Добавлено ещё 1 шт.")):alert("Нельзя добавить больше 99 товаров!"):(t.push(e),console.log("Товар добавлен в корзину")),localStorage.setItem("cart",JSON.stringify(t)),r()}function r(){let e=JSON.parse(localStorage.getItem("cart"))||[];const t=e.reduce((e,t)=>e+t.quantity,0),n=e.reduce((e,t)=>e+function(e){return Number(e.replace(/[^\d]/g,""))}(t.newPrice)*t.quantity,0);document.getElementById("cart-count-products").textContent=t,document.getElementById("buy-box-count").textContent=t,document.getElementById("buy-box-cost").textContent=n}r(),e.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".slide"),r=t.querySelector("img").getAttribute("src"),o=t.querySelector("h6").textContent,c=t.querySelector(".slide-cost h5").textContent,l=t.querySelector(".slide-cost h6").textContent;n({id:Date.now().toString(),title:o,img:r,newPrice:c,oldPrice:l,quantity:1})})}),t.addEventListener("click",e=>{e.preventDefault();const t=document.querySelector(".header-content-text-name h1").textContent,r=document.querySelector(".header-products .header-product img").getAttribute("src"),o=document.querySelector(".header-content h2").textContent;n({id:Date.now().toString(),title:t,img:r,newPrice:o,oldPrice:"",quantity:1})})}),document.querySelector(".burger-menu").addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.add("open-modal"),disableScroll()});let keys={37:1,38:1,39:1,40:1};function preventDefault(e){e.preventDefault()}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}let supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}}))}catch(e){}let wheelOpt=!!supportsPassive&&{passive:!1},wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel";function disableScroll(){window.addEventListener("DOMMouseScroll",preventDefault,!1),window.addEventListener(wheelEvent,preventDefault,wheelOpt),window.addEventListener("touchmove",preventDefault,wheelOpt),window.addEventListener("keydown",preventDefaultForScrollKeys,!1)}function enableScroll(){window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.removeEventListener(wheelEvent,preventDefault,wheelOpt),window.removeEventListener("touchmove",preventDefault,wheelOpt),window.removeEventListener("keydown",preventDefaultForScrollKeys,!1)}document.getElementById("close-modal-burger").addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.remove("open-modal"),enableScroll()});const linkBurgerMenu=document.querySelectorAll(".burger-menu-link");linkBurgerMenu.forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".modal-burger-menu").classList.remove("open-modal"),enableScroll()})});